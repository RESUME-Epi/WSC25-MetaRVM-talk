[
  {
    "objectID": "metarvm-wsc.html#people-involved",
    "href": "metarvm-wsc.html#people-involved",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "People involved",
    "text": "People involved\n\n\n\n\n\n\n\n\nChol Mabil\nEmile Jorgensen\nPeter Ruestow\nV. Eloesa McSorley"
  },
  {
    "objectID": "metarvm-wsc.html#roadmap",
    "href": "metarvm-wsc.html#roadmap",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Roadmap",
    "text": "Roadmap\n\n\n\nContext\n\nMetaRVM modeling framework\n\nMetapopulation structure\n\nDisease progression model\n\nMixing matrices from a synthetic population\n\n\nImplementation as an R package\nCase study: influenza in Chicago\n\n\n https://tinyurl.com/wsc-metarvm"
  },
  {
    "objectID": "metarvm-wsc.html#motivation",
    "href": "metarvm-wsc.html#motivation",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Motivation",
    "text": "Motivation\n\n\nPublic health decision makers increasingly rely on epidemiological models to:\n\nForecast likely futures\nStress-test interventions\nPlan resource allocation (e.g., beds, staffing)"
  },
  {
    "objectID": "metarvm-wsc.html#motivation-1",
    "href": "metarvm-wsc.html#motivation-1",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Motivation",
    "text": "Motivation\n\n\nPopulation-based ODE model\n\nAggregate-level dynamics\n\nHomogeneous mixing assumptions\nComputationally light and fast\n\n\n\nAgent-based model\n\nIndividual-level interactions\n\nHeterogeneous contact network\nExpensive to run for large population"
  },
  {
    "objectID": "metarvm-wsc.html#motivation-2",
    "href": "metarvm-wsc.html#motivation-2",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Motivation",
    "text": "Motivation\n\n\nPopulation-based ODE model\n\nAggregate-level dynamics\n\nHomogeneous mixing assumptions\n\n\n\nMeta-population hybrid model\n\nMetaRVM\n\nStratified metapopulation structure\n\nTime-varying mixing between strata\n\n\n\nAgent-based model\n\nIndividual-level interactions\n\nHeterogeneous contact network"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-1",
    "href": "metarvm-wsc.html#metarvm-1",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM",
    "text": "MetaRVM\n\n\n\nAn open-source R package for modeling infectious disease spread across stratified subpopulations.\nSubpopulations can be defined by:\n\nGeography (e.g., neighborhood, ZIP, zone)\nDemographics (e.g., age, race/ethnicity)\n\nFeatures:\n\nTime varying mixing pattern (weekday vs weekend, day vs night)\nExtended SEIR-type disease progression\nCheckpointing/restart functionality"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm---disease-model",
    "href": "metarvm-wsc.html#metarvm---disease-model",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM - Disease model",
    "text": "MetaRVM - Disease model"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm---population-mixing",
    "href": "metarvm-wsc.html#metarvm---population-mixing",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM - Population mixing",
    "text": "MetaRVM - Population mixing\n\n\nAllows for subpopulations based on demographic characteristics, e.g., based on age: children (green boxes), working-age adults (blue boxes), and seniors (orange boxes)\nAllows for different mixing patterns for daytime and nighttime: obtained through social mixing studies or through synthetic population schedules"
  },
  {
    "objectID": "metarvm-wsc.html#mixing-and-force-of-infection",
    "href": "metarvm-wsc.html#mixing-and-force-of-infection",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Mixing and force of infection",
    "text": "Mixing and force of infection\n\n\nFor each stratum, the force of infection depends on:\n\nMixing rates between the stratum \\(i\\) and \\(j\\) \\(M = (m_{ij}), \\quad, i, j \\in \\mathcal{J}\\) (set of all strata)\nPrevalence of infectious individuals in \\(j\\)th stratum at time \\(t\\), \\(I_t^{(j)}\\), where \\(j \\in \\mathcal{J}\\)"
  },
  {
    "objectID": "metarvm-wsc.html#mixing-and-force-of-infection-1",
    "href": "metarvm-wsc.html#mixing-and-force-of-infection-1",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Mixing and force of infection",
    "text": "Mixing and force of infection\n\nEffective interacting population (exclude Hospitalized [H], Dead [D] from total Population [P])\n\n\\[\n\\mathrm{MP}_t^{(j)} = P_t^{(j)} - H_t^{(j)} - D_t^{(j)}, \\qquad j \\in \\mathcal{J}.\n\\]\n\nMixing across demographic strata\n\n\\(M\\): mixing matrix \\[\nM = (m_{ij}), \\qquad \\sum_{j \\in \\mathcal{J}} m_{ij} = 1 \\ \\forall i,\n\\]\n\\[\n\\mathrm{MP}_{t,\\text{eff}}^{(j)} = \\sum_{i \\in \\mathcal{J}} m_{ij}\\,\\mathrm{MP}_t^{(i)}, \\quad\nS_{t,\\text{eff}}^{(j)} = \\sum_{i \\in \\mathcal{J}} m_{ij}\\,S_t^{(i)}, \\quad\nI_{t,\\text{eff}}^{(j)} = \\sum_{i \\in \\mathcal{J}} m_{ij}\\,I_t^{(i)}.\n\\]"
  },
  {
    "objectID": "metarvm-wsc.html#mixing-and-force-of-infection-2",
    "href": "metarvm-wsc.html#mixing-and-force-of-infection-2",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Mixing and force of infection",
    "text": "Mixing and force of infection\n\nForce of infection (Susceptible [S] vs Vaccinated [V])\n\n\\[\n\\lambda_{s,t}^{(j)} = \\beta_s \\frac{I_{t,\\text{eff}}^{(j)}}{\\mathrm{MP}_{t,\\text{eff}}^{(j)}},\n\\qquad\n\\lambda_{v,t}^{(j)} = \\beta_v \\frac{I_{t,\\text{eff}}^{(j)}}{\\mathrm{MP}_{t,\\text{eff}}^{(j)}}.\n\\]\n\nSusceptible [S] → Exposed [E] transition in stratum (j)\n\n\n\n\n\n\n\nImportant\n\n\n\\[\\text{probability of being infected:} \\quad p_{\\mathrm{SE}}^{(j)} = 1 - \\exp\\!\\big(-\\lambda_{s,t}^{(j)} \\,\\Delta t\\big) \\\\\n\\text{New infections:} \\quad \\Delta E_t^{(j)} = p_{\\mathrm{SE}}^{(j)}\\,S_t^{(j)}\\]"
  },
  {
    "objectID": "metarvm-wsc.html#age-stratified-model-illustration",
    "href": "metarvm-wsc.html#age-stratified-model-illustration",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Age-stratified model – Illustration",
    "text": "Age-stratified model – Illustration\nIngredients\n\n\nPopulation initialization\n\nAge-groups: 0-17, 18-64, 65+\nInitial conditions\n\n\n\nVaccination\n\nDaily vaccination counts\n\n\n\nMixing matrices\n\nTime varying mixing"
  },
  {
    "objectID": "metarvm-wsc.html#age-stratified-model-illustration-1",
    "href": "metarvm-wsc.html#age-stratified-model-illustration-1",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Age-stratified model – Illustration",
    "text": "Age-stratified model – Illustration\n\n\nSynthetic population\n\nPerson demographics and household composition are derived from multiple sources, including U.S. census data.\nPlaces include schools, workplaces, households, nursing homes and hospitals.\nAgent activity schedules are derived from the American Time Use Survey and the Panel Study of Income dynamics.\n\n\n\n\nChiSIM\n  Macal et al. (2018)"
  },
  {
    "objectID": "metarvm-wsc.html#age-stratified-model-illustration-2",
    "href": "metarvm-wsc.html#age-stratified-model-illustration-2",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Age-stratified model – Illustration",
    "text": "Age-stratified model – Illustration\n\n\nMobility –&gt; Mixing\n\n\n\nContact network emerges from hour-by-hour co-location of agents\nAggregate\n\nCount the total number of contacts that occur at each location between and within subpopulations\nNormalize the counts to arrive at per-capita value\n\n\n\nChiSIM\n Macal et al. (2018)"
  },
  {
    "objectID": "metarvm-wsc.html#daytime-vs-nightime-mixing",
    "href": "metarvm-wsc.html#daytime-vs-nightime-mixing",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Daytime vs Nightime mixing",
    "text": "Daytime vs Nightime mixing\n\n\nDaytime\n\nLocation based mixing\n\n\n\nNighttime\n\nHousehold and community mixing"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action",
    "href": "metarvm-wsc.html#metarvm-in-action",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nPrepare configuration\nrun_id: age-stratified\npopulation_data:\n  mapping: demographic_mapping.csv\n  initialization: population_init.csv\n  vaccination: vaccination.csv\nmixing_matrix:\n  weekday_day: m_wd_d.csv\n  weekday_night: m_wd_n.csv\n  weekend_day: m_we_d.csv\n  weekend_night: m_we_n.csv\ndisease_params:\n  ts: 0.5\n  tv: 0.3\n  ve : 0.5\n  dv: 158\n  dp: 1\n  de: 3\n  da: 5\n  ds: 6\n  dh: 4\n  dr: 187\n  pea: 0.333\n  psr: 0.95\n  phr: 0.97\nsub_disease_params:\n    age:\n      0-17:\n        ts: 0.5\n        tv: 0.1\n        pea: 0.1\n        psr: 0.99\n      18-64:\n        ts: 0.5\n        tv: 4\n        pea: 0.1\n        psr: 0.99\n      65+:\n        ts: 0.5\n        tv: 7\n        pea: 0.3\n        psr: 0.97\nsimulation_config:\n  start_date: 8/01/2023 # m/d/Y\n  length: 365"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action-1",
    "href": "metarvm-wsc.html#metarvm-in-action-1",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nRun simulation\n\nlibrary(MetaRVM)\noptions(odin.verbose = FALSE)\nout &lt;- metaRVM(\"R/config.yaml\")\nprint(out)\n\nMetaRVM Results Object\n=====================\nInstances: 1 \nPopulations: 3 \nDate range: 2023-08-01 to 2024-07-30 \nTotal observations: 33945 \nDisease states: D, E, H, I_all, I_asymp, I_eff, I_presymp, I_symp, P, R, S, V, cum_V, mob_pop, n_EI, n_EIpresymp, n_HD, n_HR, n_HRD, n_IasympR, n_IsympH, n_IsympR, n_IsympRH, n_SE, n_SV, n_VE, n_VS, n_preIsymp, p_HRD, p_SE, p_VE"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action-2",
    "href": "metarvm-wsc.html#metarvm-in-action-2",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nRun simulation\n\nlibrary(MetaRVM)\noptions(odin.verbose = FALSE)\nout &lt;- metaRVM(\"R/config.yaml\")\nprint(out)\n\nMetaRVM Results Object\n=====================\nInstances: 1 \nPopulations: 3 \nDate range: 2023-08-01 to 2024-07-30 \nTotal observations: 33945 \nDisease states: D, E, H, I_all, I_asymp, I_eff, I_presymp, I_symp, P, R, S, V, cum_V, mob_pop, n_EI, n_EIpresymp, n_HD, n_HR, n_HRD, n_IasympR, n_IsympH, n_IsympR, n_IsympRH, n_SE, n_SV, n_VE, n_VS, n_preIsymp, p_HRD, p_SE, p_VE \n\n\n\nout$results\n\n             date    age   race   zone disease_state        value instance\n           &lt;Date&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;        &lt;char&gt;        &lt;num&gt;    &lt;int&gt;\n    1: 2023-08-01   0-17    all    all             D 2.191379e-05        1\n    2: 2023-08-01   0-17    all    all             E 2.434292e-01        1\n    3: 2023-08-01   0-17    all    all             H 1.344297e-02        1\n    4: 2023-08-01   0-17    all    all         I_all 7.420794e-01        1\n    5: 2023-08-01   0-17    all    all       I_asymp 2.299324e-02        1\n   ---                                                                    \n33941: 2024-07-30    65+    all    all          n_VS 5.717389e+01        1\n33942: 2024-07-30    65+    all    all    n_preIsymp 2.301472e+01        1\n33943: 2024-07-30    65+    all    all         p_HRD 9.516258e-02        1\n33944: 2024-07-30    65+    all    all          p_SE 9.283081e-04        1\n33945: 2024-07-30    65+    all    all          p_VE 3.714267e-04        1"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action-3",
    "href": "metarvm-wsc.html#metarvm-in-action-3",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nVisualize\n\n# extract new hospitalizations\nout_H &lt;- out$subset_data(disease_states = \"n_IsympH\")\n\nlibrary(ggplot2)\nggplot(out_H$results, aes(x = date, y = value, color = age)) + \n  geom_line() + \n  ylab(\"new hospitalizations\") + theme_bw()"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action-4",
    "href": "metarvm-wsc.html#metarvm-in-action-4",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nUse of checkpoints\n\n\n\n\n\n\nTip\n\n\nsimulation_config:\n  start_date: 8/01/2023 # m/d/Y\n  length: 60\n  checkpoint_dir: \"path-to-the-checkpoint-directory\"\n  restore_from: \"path-to-checkpoint-file\"\n\n\n\nRun a simulation and checkpoint\n\nout &lt;- metaRVM(checkpoint_config)\nprint(out)\n\nMetaRVM Results Object\n=====================\nInstances: 1 \nPopulations: 3 \nDate range: 2023-08-01 to 2024-01-27 \nTotal observations: 16740 \nDisease states: D, E, H, I_all, I_asymp, I_eff, I_presymp, I_symp, P, R, S, V, cum_V, mob_pop, n_EI, n_EIpresymp, n_HD, n_HR, n_HRD, n_IasympR, n_IsympH, n_IsympR, n_IsympRH, n_SE, n_SV, n_VE, n_VS, n_preIsymp, p_HRD, p_SE, p_VE \n\n# Check what checkpoint files were created\ncheckpoint_files &lt;- list.files(checkpoint_dir, \n                               pattern = \"^chk_.*\\\\.Rda$\",\n                               full.names = FALSE)\ncheckpoint_files\n\n[1] \"chk_2024-01-27_1.Rda\""
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action-5",
    "href": "metarvm-wsc.html#metarvm-in-action-5",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nUse of checkpoints\n\n\n\n\n\n\nTip\n\n\nsimulation_config:\n  start_date: 8/01/2023 # m/d/Y\n  length: 60\n  checkpoint_dir: \"path-to-the-checkpoint-directory\"\n  restore_from: \"path-to-checkpoint-file\"\n\n\n\nRestore from a checkpoint\n\nout &lt;- metaRVM(config_resume)\nprint(out)\n\nMetaRVM Results Object\n=====================\nInstances: 1 \nPopulations: 3 \nDate range: 2024-01-28 to 2024-07-25 \nTotal observations: 16740 \nDisease states: D, E, H, I_all, I_asymp, I_eff, I_presymp, I_symp, P, R, S, V, cum_V, mob_pop, n_EI, n_EIpresymp, n_HD, n_HR, n_HRD, n_IasympR, n_IsympH, n_IsympR, n_IsympRH, n_SE, n_SV, n_VE, n_VS, n_preIsymp, p_HRD, p_SE, p_VE"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action-6",
    "href": "metarvm-wsc.html#metarvm-in-action-6",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nUse of checkpoints"
  },
  {
    "objectID": "metarvm-wsc.html#metarvm-in-action-7",
    "href": "metarvm-wsc.html#metarvm-in-action-7",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "MetaRVM in action",
    "text": "MetaRVM in action\nUse of checkpoints"
  },
  {
    "objectID": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations-in-chicago",
    "href": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations-in-chicago",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Tracking age-stratified influenza hospitalizations in Chicago",
    "text": "Tracking age-stratified influenza hospitalizations in Chicago\n\nGoal:\n\nCalibrate MetaRVM to weekly hospitalizations\nParameters to estimate:\n\n\\(ts\\): transmissibility for susceptible population\n\\(tv\\): transmissibility for vaccinated population\n\\(pea\\): proportion of asymptomatic cases\n\\(psh\\): proportion of hospitalized among symptomatic cases"
  },
  {
    "objectID": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations-in-chicago-1",
    "href": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations-in-chicago-1",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Tracking age-stratified influenza hospitalizations in Chicago",
    "text": "Tracking age-stratified influenza hospitalizations in Chicago\n\nApproach:\n\nApply Bayesian Optimization to find relevant trajectories matching the observed data (Fadikar et al. (2023))"
  },
  {
    "objectID": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations",
    "href": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Tracking age-stratified influenza hospitalizations",
    "text": "Tracking age-stratified influenza hospitalizations\n\nFigure shows age-stratified hospitalization trajectories for the 2023–24 season that align with observed hospitalization counts (in black dots). Blue bands show the model-generated trajectories, and vertical dashed lines indicate the calibration windows where checkpoints are induced."
  },
  {
    "objectID": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations-1",
    "href": "metarvm-wsc.html#tracking-age-stratified-influenza-hospitalizations-1",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Tracking age-stratified influenza hospitalizations",
    "text": "Tracking age-stratified influenza hospitalizations\n\n\n\nWeek 1 - 10 \n\n\n\nWeek 11 - 20 \n\n\n\nWeek 21 - 30 \n\n\nFigure shows the time-varying estimates of the transmission parameters (\\(ts\\)) for each age group, and for each 10-week calibration period. Diagonal panels display marginal posterior distributions for each age group, and off-diagonal panels show joint posterior contours."
  },
  {
    "objectID": "metarvm-wsc.html#closing-thoughts",
    "href": "metarvm-wsc.html#closing-thoughts",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Closing thoughts",
    "text": "Closing thoughts\n\nEnables tracking stratified health outcomes.\nFlexible in defining strata, time-strata varying model parameters.\nAvailable as an R-package.\n\n\n\nCurrent and future work\n\nExtend MetaRVM to other respiratory diseases of public health concern (COVID, RSV) and additional demographic characteristics (geographic, race/ethnicity)\nApply checkpoint-aware Bayesian optimization\nUtilize moving windows for improved trend detection\nExpand nowcasting capabilities to forecasting and scenario analyses"
  },
  {
    "objectID": "metarvm-wsc.html#funding-acknowledgments",
    "href": "metarvm-wsc.html#funding-acknowledgments",
    "title": "Developing and deploying a use-inspired metapopulation framework for stratified health outcomes",
    "section": "Funding acknowledgments",
    "text": "Funding acknowledgments\n\nChicago Department of Public Health\nThis material is based upon work supported by the U.S. Department of Energy, Office of Science, under contract DE-AC02-06CH11357.\n\nReferences\n\n\nFadikar, Arindam, Nicholson Collier, Abby Stevens, Jonathan Ozik, Mickaël Binois, and Kok Ben Toh. 2023. “Trajectory-Oriented Optimization of Stochastic Epidemiological Models.” In 2023 Winter Simulation Conference (WSC), 1244–55. https://doi.org/10.1109/WSC60868.2023.10408258.\n\n\nMacal, Charles M, Nicholson T Collier, Jonathan Ozik, Eric R Tatara, and John T Murphy. 2018. “Chisim: An Agent-Based Simulation Model of Social Interactions in a Large Urban Area.” In 2018 Winter Simulation Conference (WSC), 810–20. IEEE. https://doi.org/10.1109/WSC.2018.8632409."
  }
]